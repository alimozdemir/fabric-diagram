{"version":3,"sources":["webpack://Canvas/webpack/bootstrap","webpack://Canvas/./src/grid.js","webpack://Canvas/./src/helper.js","webpack://Canvas/./src/index.js","webpack://Canvas/./src/pan.js","webpack://Canvas/external \"fabric\""],"names":["fabric","require","defines","toggleGrid","grid","getObjectById","visible","addGrid","options","defaultOptions","distance","width","height","lineParam","stroke","strokeWidth","selectable","reduce","Object","assign","gridLen","objs","i","horizontal","Line","vertical","set","push","group","Group","left","top","id","canvas","add","removeGrid","remove","Canvas","prototype","_objects","length","obj","objId","get","undefined","console","log","togglePan","togglePanning","panning","events","_panMouseUp","_panMouseDown","_panMouseMove","on","off","e","units","delta","Point","movementX","movementY","relativePan"],"mappings":"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","file":"fabric-diagram.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","\nvar fabric = require('fabric');\nimport './helper.js';\n\nvar defines = {\n    /**\n     * Reference https://codepen.io/rodan8888/pen/eBWNdp\n     */\n    toggleGrid() {\n        const grid = this.getObjectById('grid');\n        if (grid) {\n            grid.visible = !grid.visible;\n        }\n    },\n    addGrid(options) {\n        const defaultOptions = {\n            distance: 10,\n            width: this.width,\n            height: this.height,\n            lineParam: {\n                stroke: '#ebebeb',\n                strokeWidth: 1,\n                selectable: false\n            },\n            stroke: '#cccccc'\n        };\n        options = [ defaultOptions, options ].reduce(Object.assign, {});\n\n        const gridLen = options.width / options.distance;\n        const objs = [];\n        for (var i = 0; i < gridLen; i++) {\n            const distance = i * options.distance,\n                horizontal = new fabric.Line([distance, 0, distance, options.width], options.lineParam),\n                vertical = new fabric.Line([0, distance, options.width, distance], options.lineParam);\n    \n            if (i % 5 === 0) {\n                horizontal.set({ stroke: options.stroke });\n                vertical.set({ stroke: options.stroke });\n            }\n    \n            objs.push(horizontal);\n            objs.push(vertical);\n        }\n        const group = new fabric.Group(objs, {\n            left: 0,\n            top: 0,\n            selectable: false,\n            id: 'grid'\n        });\n        canvas.add(group);\n    },\n    removeGrid() {\n        const grid = this.getObjectById('grid');\n        if (grid) {\n            this.remove(grid);\n        }\n    }\n}\n\nfabric.Canvas.prototype.toggleGrid = defines.toggleGrid;\nfabric.Canvas.prototype.addGrid = defines.addGrid;\nfabric.Canvas.prototype.removeGrid = defines.removeGrid;\n","var fabric = require('fabric');\n\nvar defines = {\n        /**\n     * \n     * @param {string} id\n     * @returns {fabric.Object}\n     */\n    getObjectById(id) {\n        \n        for (let i = 0; i < this._objects.length; i++) {\n            const obj = this._objects[i];\n            const objId = obj.get('id');\n\n            if (objId && objId === id) {\n                return obj;\n            }\n        }\n\n        return undefined;\n    }\n}\nconsole.log(fabric.fabric, ' ');\n\nfabric.Canvas.prototype.getObjectById = defines.getObjectById;","import './grid.js'\nimport './pan.js'","var fabric = require('fabric');\n\n/**\n * Reference: https://stackoverflow.com/questions/45110576/fabricjs-touch-pan-zoom-entire-canvas\n */\nvar defines = {\n    togglePan() {\n        if (this.togglePanning === undefined)\n            this.togglePanning = false;\n\n        this.togglePanning = !this.togglePanning;\n        this.panning = false;\n        const events = {\n            'mouse:up': this._panMouseUp,\n            'mouse:down': this._panMouseDown,\n            'mouse:move': this._panMouseMove,\n        };\n\n        this.togglePanning ? this.on(events) : this.off(events);\n    },\n    _panMouseUp() {\n        this.panning = false;\n    },\n    _panMouseDown() {\n        this.panning = true;\n    },\n    _panMouseMove(e) {            \n        if (this.panning && e && e.e) { \n            var units = 10;\n            var delta = new fabric.Point(e.e.movementX, e.e.movementY);\n            this.relativePan(delta);\n        }\n    }\n}\n\n\nfabric.Canvas.prototype.togglePan = defines.togglePan;\nfabric.Canvas.prototype._panMouseUp = defines._panMouseUp;\nfabric.Canvas.prototype._panMouseDown = defines._panMouseDown;\nfabric.Canvas.prototype._panMouseMove = defines._panMouseMove;\n\n\nexport default defines;","module.exports = fabric;"],"sourceRoot":""}