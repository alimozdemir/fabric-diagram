{"version":3,"sources":["webpack://Canvas/webpack/bootstrap","webpack://Canvas/./src/grid.js","webpack://Canvas/./src/helper.js","webpack://Canvas/./src/index.js","webpack://Canvas/external \"fabric\""],"names":["fabric","require","defines","toggleGrid","grid","getObjectById","visible","addGrid","options","defaultOptions","distance","width","canvas","height","lineParam","stroke","strokeWidth","selectable","Object","assign","gridLen","objs","i","horizontal","Line","vertical","set","push","group","Group","left","top","id","add","removeGrid","remove","Canvas","prototype","_objects","length","obj","objId","get","undefined"],"mappings":"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","file":"fabric-diagram.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","\nvar fabric = require('fabric');\nimport './helper.js';\n\nvar defines = {\n    /**\n     * Reference https://codepen.io/rodan8888/pen/eBWNdp\n     */\n    toggleGrid() {\n        const grid = this.getObjectById('grid');\n        if (grid) {\n            grid.visible = !grid.visible;\n        }\n    },\n    addGrid(options) {\n        const defaultOptions = {\n            distance: 10,\n            width: canvas.width,\n            height: canvas.height,\n            lineParam: {\n                stroke: '#ebebeb',\n                strokeWidth: 1,\n                selectable: false\n            },\n            stroke: '#cccccc'\n        };\n        options = Object.assign(options, defaultOptions, {});\n\n        const gridLen = options.width / options.distance;\n        const objs = [];\n        for (var i = 0; i < gridLen; i++) {\n            const distance = i * options.distance,\n                horizontal = new fabric.Line([distance, 0, distance, options.width], options.lineParam),\n                vertical = new fabric.Line([0, distance, options.width, distance], options.lineParam);\n    \n            if (i % 5 === 0) {\n                horizontal.set({ stroke: options.stroke });\n                vertical.set({ stroke: options.stroke });\n            }\n    \n            objs.push(horizontal);\n            objs.push(vertical);\n        }\n        const group = new fabric.Group(objs, {\n            left: 0,\n            top: 0,\n            selectable: false,\n            id: 'grid'\n        });\n        canvas.add(group);\n    },\n    removeGrid() {\n        const grid = this.getObjectById('grid');\n        if (grid) {\n            this.remove(grid);\n        }\n    }\n}\n\nfabric.Canvas.prototype.toggleGrid = defines.toggleGrid;\nfabric.Canvas.prototype.addGrid = defines.addGrid;\nfabric.Canvas.prototype.removeGrid = defines.removeGrid;\n","var fabric = require('fabric');\n\nvar defines = {\n        /**\n     * \n     * @param {string} id\n     * @returns {fabric.Object}\n     */\n    getObjectById(id) {\n        \n        for (let i = 0; i < this._objects.length; i++) {\n            const obj = this._objects[i];\n            const objId = obj.get('id');\n\n            if (objId && objId === id) {\n                return obj;\n            }\n        }\n\n        return undefined;\n    }\n}\n\n\nfabric.Canvas.prototype.getObjectById = defines.getObjectById;","import './grid.js'","module.exports = fabric;"],"sourceRoot":""}